<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 2. LqR library API user manual</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="The Liquid Rescale library Manual"><link rel="up" href="index.html" title="The Liquid Rescale library Manual"><link rel="prev" href="basic.html" title="Basic methods"><link rel="next" href="generate-multi-size.html" title="Generating the multi-size image"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. LqR library API user manual</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basic.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="generate-multi-size.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="api-manual"></a>Chapter 2. LqR library API user manual</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="api-manual.html#signals">Signal handling</a></span></dt><dt><span class="sect1"><a href="generate-multi-size.html">Generating the multi-size image</a></span></dt><dd><dl><dt><span class="sect2"><a href="generate-multi-size.html#carver-new">Carver object creation</a></span></dt><dt><span class="sect2"><a href="generate-multi-size.html#carver-init">Carver activation</a></span></dt><dt><span class="sect2"><a href="generate-multi-size.html#image-type">Choosing the image type</a></span></dt></dl></dd><dt><span class="sect1"><a href="lqr.html">Liquid rescaling</a></span></dt><dd><dl><dt><span class="sect2"><a href="lqr.html#lqr-resize">The resizing method</a></span></dt><dt><span class="sect2"><a href="lqr.html#flatten">Flattening</a></span></dt><dt><span class="sect2"><a href="lqr.html#lqr-cancel">Cancelling an action</a></span></dt></dl></dd><dt><span class="sect1"><a href="read-out.html">Reading the multi-size image</a></span></dt><dd><dl><dt><span class="sect2"><a href="read-out.html#px-by-px">Pixel by pixel</a></span></dt><dt><span class="sect2"><a href="read-out.html#line-by-line">One line at a time</a></span></dt><dt><span class="sect2"><a href="read-out.html#reset">Resetting</a></span></dt></dl></dd><dt><span class="sect1"><a href="energy.html">Automatic feature detection</a></span></dt><dd><dl><dt><span class="sect2"><a href="energy.html#energy-foreword">Foreword</a></span></dt><dt><span class="sect2"><a href="energy.html#energy-builtin">Builtin energy functions</a></span></dt><dt><span class="sect2"><a href="energy.html#energy-custom">Custom energy functions</a></span></dt><dt><span class="sect2"><a href="energy.html#energy-readout">Reading out the energy</a></span></dt></dl></dd><dt><span class="sect1"><a href="bias.html">Adding a bias</a></span></dt><dd><dl><dt><span class="sect2"><a href="bias.html#bias-foreword">Foreword</a></span></dt><dt><span class="sect2"><a href="bias.html#bias-xy">Adding a bias pixel by pixel</a></span></dt><dt><span class="sect2"><a href="bias.html#bias-float">Using an array of floating-point values</a></span></dt><dt><span class="sect2"><a href="bias.html#bias-rgb">Using another image</a></span></dt><dt><span class="sect2"><a href="bias.html#bias-areas">Operating on a specific area</a></span></dt></dl></dd><dt><span class="sect1"><a href="rigmask.html">Adding a rigidity mask</a></span></dt><dd><dl><dt><span class="sect2"><a href="rigmask.html#rigmask-foreword">Foreword</a></span></dt><dt><span class="sect2"><a href="rigmask.html#rigmask-xy">Adding an individual rigidity coefficient to a pixel</a></span></dt><dt><span class="sect2"><a href="rigmask.html#rigmask-float">Using an array of floating-point values</a></span></dt><dt><span class="sect2"><a href="rigmask.html#rigmask-rgb">Using another image</a></span></dt><dt><span class="sect2"><a href="rigmask.html#rigmask-areas">Operating on a specific area</a></span></dt></dl></dd><dt><span class="sect1"><a href="tuning.html">Tuning</a></span></dt><dd><dl><dt><span class="sect2"><a href="tuning.html#lqr-enl-step">Setting the enlargement step</a></span></dt><dt><span class="sect2"><a href="tuning.html#res-order">Choosing the resize order</a></span></dt><dt><span class="sect2"><a href="tuning.html#switch-freq">Choosing the side switch frequency</a></span></dt><dt><span class="sect2"><a href="tuning.html#cache">Using the cache</a></span></dt></dl></dd><dt><span class="sect1"><a href="vmaps.html">Dealing with the visibility maps (the seams)</a></span></dt><dd><dl><dt><span class="sect2"><a href="vmaps.html#vmap-dump">Dumping the visibility map</a></span></dt><dt><span class="sect2"><a href="vmaps.html#activate-dump">Storing the visibility maps</a></span></dt><dt><span class="sect2"><a href="vmaps.html#access-vmap">Accessing the internally attached visibility maps</a></span></dt><dt><span class="sect2"><a href="vmaps.html#vmaps-objs">The visibility map objects</a></span></dt><dt><span class="sect2"><a href="vmaps.html#import-vmap">Importing a visibility map in a carver</a></span></dt><dt><span class="sect2"><a href="vmaps.html#save-load-vmaps">Saving and loading visibility maps to/from files</a></span></dt></dl></dd><dt><span class="sect1"><a href="attach-images.html">Attaching extra images</a></span></dt><dd><dl><dt><span class="sect2"><a href="attach-images.html#attach-carver">Attaching a carver</a></span></dt><dt><span class="sect2"><a href="attach-images.html#access-attached">Accessing attached carvers</a></span></dt></dl></dd><dt><span class="sect1"><a href="progress.html">Progress indicators</a></span></dt><dd><dl><dt><span class="sect2"><a href="progress.html#progress-init">Creating and attaching a progress report object</a></span></dt><dt><span class="sect2"><a href="progress.html#progress-set-up">Setting up progress hooks</a></span></dt><dt><span class="sect2"><a href="progress.html#progress-messages">Initial and ending progress messages</a></span></dt><dt><span class="sect2"><a href="progress.html#progress-upd-step">Progress update step</a></span></dt></dl></dd><dt><span class="sect1"><a href="release.html">Releasing the memory</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="signals"></a>Signal handling</h2></div></div></div><p>
                Many library functions return a value of type <code class="classname">LqrRetVal</code>. This is an enum type
                which can hold the values:
                </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><span class="errorcode">LQR_OK</span></code></span></dt><dd><p>
                                everyting OK
                            </p></dd><dt><span class="term"><code class="literal"><span class="errorcode">LQR_ERROR</span></code></span></dt><dd><p>
                                generic <span class="errortype">fatal</span> error
                            </p></dd><dt><span class="term"><code class="literal"><span class="errorcode">LQR_NOMEM</span></code></span></dt><dd><p>
                                not enough memory
                            </p></dd><dt><span class="term"><code class="literal"><span class="errorcode">LQR_USRCANCEL</span></code></span></dt><dd><p>
                                action cancelled by the user
                            </p></dd></dl></div><p>
            </p><p>
                At top level, it is important that the user handle these values explicitly, because the library
                functions don't do anything else than stopping and returning an error signal in case of errors. An easy
                way is setting up some macros and wrap each function call with those, as shown in the example files.
            </p><p>
                Below top level, the library provides some convenient macros which can be used to wrap function calls,
                in order to propagate these signals:
                </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal"><code class="function">LQR_CATCH</code> (<em class="parameter"><code>expr</code></em>)</code></span></dt><dd><p>
                                if <em class="parameter"><code>expr</code></em> is equal to <code class="literal"><span class="errorcode">LQR_OK</span></code> it does nothing, otherwise it
                                returns <em class="parameter"><code>expr</code></em> (or the result of the execution of
                                <em class="parameter"><code>expr</code></em> if it happens to be a function)
                            </p></dd><dt><span class="term"><code class="literal"><code class="function">LQR_CATCH_F</code> (<em class="parameter"><code>expr</code></em>)</code></span></dt><dd><p>
                                returns <code class="literal"><span class="errorcode">LQR_ERROR</span></code> if <em class="parameter"><code>expr</code></em> is <code class="literal">FALSE</code>
                            </p></dd><dt><span class="term"><code class="literal"><code class="function">LQR_CATCH_MEM</code> (<em class="parameter"><code>expr</code></em>)</code></span></dt><dd><p>
                                returns <code class="literal"><span class="errorcode">LQR_NOMEM</span></code> if <em class="parameter"><code>expr</code></em> is <code class="literal">NULL</code>
                            </p></dd></dl></div><p>
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
                        The names of these macros have changed since version <code class="literal">0.4</code>; the previous names
                        <code class="function">CATCH</code>, <code class="function">CATCH_F</code> and <code class="function">CATCH_MEM</code> are
                        still available, but they can be disabled at configure time if they cause conflicts
                        (<span class="command"><strong>configure --help</strong></span> for details).
                    </p></div><p>

            </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basic.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="generate-multi-size.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Basic methods </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Generating the multi-size image</td></tr></table></div></body></html>
